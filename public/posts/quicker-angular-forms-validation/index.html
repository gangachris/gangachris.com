<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Quicker Angular Forms Validation | NIH isn&#39;t a 4 letter word</title>
<link rel="stylesheet" href="https://gangachris.com/css/style.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">

<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/styles/default.min.css">


<section class="section">
  <div class="container">
    <nav class="nav">
      <div class="nav-left">
        <a class="nav-item" href="https://gangachris.com"><h1 class="title is-4">NIH isn&#39;t a 4 letter word</h1></a>
      </div>
      <div class="nav-right">
        <nav class="nav-item level is-mobile">
          
          <a class="level-item" href="https://github.com/gangachris">
            <span class="icon">
              <i class="fa fa-github"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://twitter.com/gangachris_">
            <span class="icon">
              <i class="fa fa-twitter"></i>
            </span>
          </a>
          
          <a class="level-item" href="https://www.linkedin.com/in/gangachris/">
            <span class="icon">
              <i class="fa fa-linkedin"></i>
            </span>
          </a>
          
          <a class="level-item" href="mailto:ganga.chris@gmail.com">
            <span class="icon">
              <i class="fa fa-envelope"></i>
            </span>
          </a>
          
          <a class="level-item" href="/index.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>
          </a>
          
        </nav>
      </div>
    </nav>
  </div>
</section>

<section class="section">
  <div class="container">
    <h2 class="subtitle is-6">January 1, 2017</h2>
    <h1 class="title">Quicker Angular Forms Validation</h1>
    <div class="content">
      <p>The community is moving away from calling Angular by version names, Angular 2, Angular 4 and the likes. It’s now just Angular, mainly because of the clear 6 months release cycles recently mentioned.</p>

<p>So in light of this, I updated my Open Source Project, angular validators, to ng-validators. I was surprised that name was available, because there are a couple of validators out there, you can pick whichever you want.</p>

<p><a href="https://github.com/gangachris/ng-validators">ng-validators</a> is a wrapper around the widely known <a href="https://github.com/chriso/validator.js">validator js</a> library, and since I didn’t feel like rewriting validation that already existed out there, I did this.</p>

<p>As of now, it only supports ReactiveFormsModule. FormsModule directives will be written some day, by me, or another open sourcerer.</p>

<p>Using it is quite simple.</p>

<p>Install it in your angular project with either npm or yarn</p>

<pre><code>npm install --save ng-validators
</code></pre>

<p>or</p>

<pre><code>yarn add ng-validators
</code></pre>

<p>Once done, make sure you have the ReactiveFormsModule included in your <code>app.modules.ts</code> file.</p>

<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#00f">import</span> { BrowserModule } from <span style="color:#a31515">&#39;@angular/platform-browser&#39;</span>;
<span style="color:#00f">import</span> { NgModule } from <span style="color:#a31515">&#39;@angular/core&#39;</span>;
<span style="color:#00f">import</span> { ReactiveFormsModule } from <span style="color:#a31515">&#39;@angular/forms&#39;</span>;
<span style="color:#00f">import</span> { HttpModule } from <span style="color:#a31515">&#39;@angular/http&#39;</span>;
<span style="color:#00f">import</span> { AppComponent } from <span style="color:#a31515">&#39;./app.component&#39;</span>;
<span style="color:#00f">@NgModule</span>({
  declarations: [
    AppComponent
  ],
  imports: [
    BrowserModule,
    ReactiveFormsModule,
    HttpModule
  ],
  providers: [],
  bootstrap: [AppComponent]
})
<span style="color:#00f">export</span> <span style="color:#00f">class</span> AppModule { }</code></pre></div>

<p>Then in the component with the Form that you want to add validation to, add the FormBuilder, and the FormGroup providers. While, at it, add the ng-validators too.</p>

<p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-typescript" data-lang="typescript"><span style="color:#00f">import</span> { Component } from <span style="color:#a31515">&#39;@angular/core&#39;</span>;
<span style="color:#00f">import</span> { FormGroup, FormBuilder } from <span style="color:#a31515">&#39;@angular/forms&#39;</span>;
<span style="color:#00f">import</span> { NGValidators } from <span style="color:#a31515">&#39;ng-validators&#39;</span>;
Then now, create a Model Based form, <span style="color:#00f">as</span> you would normally.

<span style="color:#00f">import</span> { Component } from <span style="color:#a31515">&#39;@angular/core&#39;</span>;
<span style="color:#00f">import</span> { FormGroup, FormBuilder } from <span style="color:#a31515">&#39;@angular/forms&#39;</span>;
<span style="color:#00f">import</span> { NGValidators } from <span style="color:#a31515">&#39;ng-validators&#39;</span>;
<span style="color:#00f">@Component</span>({
  selector: <span style="color:#a31515">&#39;app-root&#39;</span>,
  templateUrl: <span style="color:#a31515">&#39;./app.component.html&#39;</span>,
  styleUrls: [<span style="color:#a31515">&#39;./app.component.css&#39;</span>]
})
<span style="color:#00f">export</span> <span style="color:#00f">class</span> AppComponent {
  theForm: <span style="color:#2b91af">FormGroup</span>;

  <span style="color:#00f">constructor</span>(<span style="color:#00f">private</span> fb: <span style="color:#2b91af">FormBuilder</span>) {
    <span style="color:#00f">this</span>.theForm = fb.group({
      contains: [<span style="color:#a31515">&#39;&#39;</span>, [NGValidators.contains(<span style="color:#a31515">&#39;validate&#39;</span>)]],
      equals: [<span style="color:#a31515">&#39;&#39;</span>, [NGValidators.equals(<span style="color:#a31515">&#39;validate&#39;</span>)]],
      after: [<span style="color:#a31515">&#39;&#39;</span>, [NGValidators.isAfter()]],
      alpha: [<span style="color:#a31515">&#39;&#39;</span>, [NGValidators.isAlpha()]],
      email: [<span style="color:#a31515">&#39;&#39;</span>, [NGValidators.isEmail()]]
     })
  }
}</code></pre></div>
Templating for this should be intuitive if you’ve done a little of angular forms. I added a bootstrap CDN in my index file, then used the classes to update write the template below.</p>

<p><div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-html" data-lang="html">&lt;div class=<span style="color:#a31515">&#34;container&#34;</span> <span style="">[</span>style<span style="">.</span>margin-top<span style="">.</span>px<span style="">]=&#34;</span>30<span style="">&#34;</span>&gt;
  &lt;form <span style="">[</span>formGroup<span style="">]=&#34;</span>theForm<span style="">&#34;</span> novalidate&gt;
      &lt;div class=<span style="color:#a31515">&#34;col-md-4&#34;</span>&gt;
        &lt;div class=<span style="color:#a31515">&#34;form-group&#34;</span>&gt;
          &lt;label class=<span style="color:#a31515">&#34;form-control-label&#34;</span>&gt;Contains&lt;/label&gt;
          &lt;input type=<span style="color:#a31515">&#34;text&#34;</span> class=<span style="color:#a31515">&#34;form-control form-control-success&#34;</span> name=<span style="color:#a31515">&#34;contains&#34;</span> formControlName=<span style="color:#a31515">&#34;contains&#34;</span>&gt;
          &lt;div class=<span style="color:#a31515">&#34;form-control-feedback&#34;</span>&gt;
            &lt;div class=<span style="color:#a31515">&#34;alert alert-danger&#34;</span> <span style="">*</span>ngIf=<span style="color:#a31515">&#34;theForm.controls.contains.errors?.contains&#34;</span>&gt;Must contain &#39;validate&#39;&lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;
      &lt;/div&gt;
  &lt;/form&gt;
&lt;/div&gt;</code></pre></div>
So, I have all the validators provided by <a href="https://github.com/chriso/validator.js">validator js</a>, wrapped in this simple module.</p>

    </div>
  </div>
</section>

<section class="section">
  <div class="container">
    <aside><div id="disqus_thread"></div></aside>
    <script type="text/javascript">
      var disqus_shortname = 'gangac';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
  </div>
</section>


<section class="section">
  <div class="container has-text-centered">
    <p>&copy; <a href="https://github.com/gangachris">gangachris</a> 2018</p>
  </div>
</section>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.6.0/highlight.min.js"></script>

<script>hljs.initHighlightingOnLoad();</script>


